package controlador;

import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import java.sql.ResultSet;
import java.sql.SQLException;

import modelo.CargaSecciones;
import vista.MarcoAplicacion;

// Extiende de WindowAdapter en vez de implementar WindowListener
// para no cargar la clase de metodos que no necesitamos

public class ControladorCargaSecciones extends WindowAdapter {

	public ControladorCargaSecciones(MarcoAplicacion elMarco) {
		this.elMarco = elMarco;
	}
	
	public void windowOpened(WindowEvent e) {
		ResultSet rs = cargaSecciones.ejecutaConsultas();
		try {
			
			while(rs.next()){
				elMarco.getSecciones().addItem(rs.getString(1));
			}
			rs.close();
			
		} catch (SQLException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		}
	}

	private CargaSecciones cargaSecciones = new CargaSecciones();
	private MarcoAplicacion elMarco;
	
}
